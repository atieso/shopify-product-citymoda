# =========================
# === Shopify (obblig.) ===
# =========================
SHOPIFY_STORE_DOMAIN=city-tre-srl.myshopify.com
SHOPIFY_API_VERSION=2025-01
SHOPIFY_ADMIN_TOKEN=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

# =================================
# === Motori Ricerca (opzionali) ===
# =================================
# Google Custom Search (già attivo)
GOOGLE_CSE_KEY=AIzaSyD6RDCNUAWStO6QMJ-GZiw6AW-uqmYPwZc
GOOGLE_CSE_CX=b3e589dcc16d94a2e

# Bing Image Search (opzionale; lascia vuoto se non lo usi)
BING_IMAGE_KEY=

# ==========================
# === Scope di lavorazione ==
# ==========================
# Limite prodotti a run
MAX_PRODUCTS=5

# Filtra per varianti (include la taglia): inserisci gli SKU completi
PRODUCT_SKUS=H2TOMJDW0DW19887YBH_XS,H2CKJEJ20J2245391BJ_XS,H2CKJEJ20J225089BEH_XS
# (facoltativi) filtri alternativi
PRODUCT_EANS=
PRODUCT_IDS=

# ==========================
# === Foto: parametri =======
# ==========================
MAX_IMAGES_PER_PRODUCT=5
IMAGE_MIN_SIDE=800
WHITE_BG_BORDER_PCT=0.10
WHITE_BG_THRESHOLD=245
WHITE_BG_MIN_RATIO=0.88
DOWNLOAD_TIMEOUT_SEC=10
MAX_DOWNLOAD_BYTES=3500000
CONTEXT_FETCH_MAX=300000

# Domini brand ufficiali (altissima priorità)
BRAND_DOMAINS_WHITELIST=guess.com,calvinklein.com,calvinklein.it,tommy.com,tommyjeans.com,nz.tommy.com

# Domini retailer affidabili (alta priorità) — puoi aggiungerne/ridurli
TRUSTED_RETAILER_DOMAINS=zalando.,aboutyou.,farfetch.,yoox.,ssense.,endclothing.,footlocker.,jdsports.,luisaviaroma.,zappos.,asos.,cdn.shopify.com,shopifycdn.com

# ==========================
# === Strictness & soglie ===
# ==========================
# Richiedi match forte di brand e codice sia per descrizioni che per immagini
REQUIRE_BRAND_MATCH=true
REQUIRE_CODE_IN_URL_OR_CTX=true
REQUIRE_TRUSTED_DOMAIN_IMG=true

# Soglie di confidenza (0–1). Di default severo.
DESC_CONFIDENCE_THRESHOLD=0.80
IMG_CONFIDENCE_THRESHOLD=0.85

# Escludi lifestyle/editorial (lookbook, runway, ecc.)
REJECT_LIFESTYLE_HINTS=true
LIFESTYLE_HINT_WORDS=lookbook,campaign,street,editorial,model,runway,backstage,outfit

# ===============================
# === Descrizioni / Magic =======
# ===============================
# Scrive un metafield con la prompt per Shopify Magic
WRITE_MAGIC_PROMPT_METAFIELD=true
MAGIC_PROMPT_NAMESPACE=custom
MAGIC_PROMPT_KEY=magic_prompt_it

# Se non troviamo fonte affidabile, NON scrive body_html quando true
STRICT_CODE_DESC_ONLY=true

# ===============================
# === Selettore immagini ========
# ===============================
# Richiede corrispondenza forte del codice (URL/contesto/pagina)
STRICT_CODE_IMAGE_MATCH=true

# ===============================
# === SKU parsing ================
# ===============================
# Esempio: H2TOMJ... -> rimuove i primi 6 char = codice fornitore
SUPPLIER_CODE_OFFSET=6
# In alternativa, regex con gruppo nominato (?P<code>...) per estrarre il codice
SUPPLIER_CODE_REGEX=

# ===============================
# === Debug ======================
# ===============================
DEBUG=true
