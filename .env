# =========================
# === Shopify (obblig.) ===
# =========================
SHOPIFY_STORE_DOMAIN=city-tre-srl.myshopify.com
SHOPIFY_API_VERSION=2025-01
SHOPIFY_ADMIN_TOKEN=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

# =================================
# === Motori Ricerca (opzionali) ===
# =================================
GOOGLE_CSE_KEY=AIzaSyD6RDCNUAWStO6QMJ-GZiw6AW-uqmYPwZc
GOOGLE_CSE_CX=b3e589dcc16d94a2e
BING_IMAGE_KEY=

# ==========================
# === Scope di lavorazione ==
# ==========================
MAX_PRODUCTS=5
PRODUCT_SKUS=H2CALKKM0KM01101BEH_S,H2CKJEJ30J3270121A4_28,H2GUESL5RI00K8HM4JBLK_8A
PRODUCT_EANS=
PRODUCT_IDS=

# ==========================
# === Foto: parametri =======
# ==========================
MAX_IMAGES_PER_PRODUCT=5
IMAGE_MIN_SIDE=900
WHITE_BG_BORDER_PCT=0.10
WHITE_BG_THRESHOLD=245
WHITE_BG_MIN_RATIO=0.90
DOWNLOAD_TIMEOUT_SEC=10
MAX_DOWNLOAD_BYTES=3500000
CONTEXT_FETCH_MAX=300000

# Domini brand e retailer affidabili
BRAND_DOMAINS_WHITELIST=guess.com,calvinklein.com,calvinklein.it,tommy.com,tommyjeans.com,nz.tommy.com,wardow.com,modivo.it,answear.it,pavidas.com,scuderistore.com,gullivermoda.com,giglio.com,negozipelizzari.it,miriade.com,sorelleramonda.com
TRUSTED_RETAILER_DOMAINS=zalando.,aboutyou.,farfetch.,yoox.,ssense.,endclothing.,footlocker.,jdsports.,luisaviaroma.,zappos.,asos.,cdn.shopify.com,shopifycdn.com

# ==========================
# === Strictness & soglie ===
# ==========================
REQUIRE_BRAND_MATCH=true
REQUIRE_CODE_IN_URL_OR_CTX=true
REQUIRE_TRUSTED_DOMAIN_IMG=true
REQUIRE_COLOR_MATCH_IMG=true          # <— NUOVO: l’immagine deve citare il colore
DISABLE_GENERIC_IMAGE_QUERIES=true    # <— NUOVO: niente query senza codice

DESC_CONFIDENCE_THRESHOLD=0.90        # <— più severo
IMG_CONFIDENCE_THRESHOLD=0.90         # <— più severo
MIN_FIELDS_FOR_DESC=1                 # <— servono almeno 1 tra colore/materiale reali

REJECT_LIFESTYLE_HINTS=true
LIFESTYLE_HINT_WORDS=lookbook,campaign,street,editorial,model,runway,backstage,outfit
NEGATIVE_KEYWORDS_IMG=logo,icon,placeholder,packaging,graphic,sprite # <— NUOVO anti-logo

# ===============================
# === Descrizioni / Magic =======
# ===============================
WRITE_MAGIC_PROMPT_METAFIELD=true
MAGIC_PROMPT_NAMESPACE=custom
MAGIC_PROMPT_KEY=magic_prompt_it
STRICT_CODE_DESC_ONLY=true

# ===============================
# === Selettore immagini ========
# ===============================
STRICT_CODE_IMAGE_MATCH=true

# ===============================
# === SKU parsing ================
# ===============================
SUPPLIER_CODE_OFFSET=6
SUPPLIER_CODE_REGEX=

# ===============================
# === Debug ======================
# ===============================
DEBUG=true

# Solo foto senza volti
ENFORCE_FACE_DETECTION=true
FACE_CASCADE_PATH=./haarcascade_frontalface_default.xml
FACE_CASCADE_URL=https://raw.githubusercontent.com/opencv/opencv/master/data/haarcascades/haarcascade_frontalface_default.xml
FACE_MIN_SIDE=80
MAX_FACES_ALLOWED=0

# --- Background colorato & remove bg ---
ALLOW_COLORED_BG=true
PLAIN_BG_COLOR_DIST=18
PLAIN_BG_MIN_RATIO=0.80

ENABLE_BG_REMOVAL=true
ENFORCE_BG_REMOVAL=false
ACCEPT_COLORED_IF_REMOVE_FAIL=true

